<!doctype html >
<html xmlns:ng="http://angularjs.org" lang="en" ng-app="pokerApp">
<head>
  <!--[if lte IE 8]>
    <script>
      document.createElement('ng-include');
      document.createElement('ng-pluralize');
      document.createElement('ng-view');
      
      // Optionally these for CSS
      document.createElement('ng:include');
      document.createElement('ng:pluralize');
      document.createElement('ng:view');
    </script>
  <![endif]-->
  <meta charset="utf-8">
  <title>HATCHET</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/app.css"/>
</head>
<body class="no-js">
  <div class="container">
    <header id="header">
      <h1><a href="/" title="Home">HATCHET</a></h1>
    </header>
    <noscript>
      <p>This site is <em>heavily</em> dependant upon JavaScript. If you don't have it enabled, you're not going to have a Good Time.</p>
    </noscript>

    <div id="socketMessage" class="alert alert-socket" ui-show="socketMessage">{{socketMessage}}</div>

    <div ng-view></div>

    <footer role="contentInfo">
      <p>Done by Jörg &amp; Rïch.</p>
    </footer>
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script src="lib/jquery.cookie/jquery.cookie.js"></script>
  <script src="lib/underscore.min.js"></script>
  <script src="lib/angular/angular.js"></script>
  <script src="js/app.js"></script>
  <script src="js/services.js"></script>
  <script src="js/controllers.js"></script>
  <script src="js/filters.js"></script>
  <script src="js/directives.js"></script>
  <script>
    var showSidebar = function() {
      $('body').removeClass("active-nav").toggleClass("active-sidebar");
      $('.menu-button').removeClass("active-button");         
      $('.sidebar-button').toggleClass("active-button");
    }

    var showMenu = function() {
      $('body').removeClass("active-sidebar").toggleClass("active-nav");
      $('.sidebar-button').removeClass("active-button");        
      $('.menu-button').toggleClass("active-button"); 
    }

    // add/remove classes everytime the window resize event fires
    $(window).resize(function(){
      var off_canvas_nav_display = $('.off-canvas-navigation').css('display');
      var menu_button_display = $('.menu-button').css('display');
      if (off_canvas_nav_display === 'block') {     
        $("body").removeClass("three-column").addClass("small-screen");       
      } 
      if (off_canvas_nav_display === 'none') {
        $("body").removeClass("active-sidebar active-nav small-screen")
          .addClass("three-column");      
      } 
    }); 

    $(document).ready(function(){
      $('html').removeClass('no-js').addClass('js');

      // Toggle for nav menu
      $('.menu-button').click(function(e) {
        e.preventDefault();
        showMenu();             
      }); 
      // Toggle for sidebar
      $('.sidebar-button').click(function(e) {
        e.preventDefault();
        showSidebar();                  
      });
      // slide to main after voting
      $('#votePanel li').click(function(e) {
        console.log('click');
        e.preventDefault();
        showMenu(); 
      })

    });
  </script>
</body>
</html>
