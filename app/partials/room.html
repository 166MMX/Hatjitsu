<div ng-init="configureRoom()">
  <div id="appError" class="alert alert-error" ui-show="errorMessage">{{errorMessage}}</div>
  <div id="message" class="alert alert-info" ui-show="message">{{message}}</div>

  <h2>Room: /{{roomId}}</h2>
  <p>Human count: {{humanCount}}</p>
  <p>Voter count: {{voterCount}}</p>
  <p>Voter: <input type="checkbox" ng-model="voter" ng-change="toggleVoter()" /></p>

  <div ng-switch on="showAdmin">
    <div ng-switch-when="true">
      <div id="adminPanel">
        Choose card pack:
        <select ng-model="cardPack" ng-change="setCardPack(cardPack)">
          <option value="fib">Fibonacci</option>
          <option value="seq">Sequential</option>
        </select><br/>
        <button ng-click="resetVote()">Reset the vote</button>
      </div>
    </div>
  </div>

  <div id="votePanel">
    <h3>Votes</h3>
    <ul class="cards">
      <li ng-repeat="vote in votes" ng-click="unvote(vote.socketId)" class="card mine-{{vote.socketId==socketId}}">
        <div ng-show="votes.length == voterCount">{{vote.vote}}</div>
        <div ng-show="votes.length < voterCount">x</div>
      </li>
    </ul>
  </div>

  <div id="cardPackPanel" ng-show="voter">
    <h3>Card Pack</h3>
    <ul class="cards">
      <li ng-repeat="card in cards" ng-click="vote(card)" class="card mine-{{card==myVote}}">
        <div>{{card}}</div>
      </li>
    </ul>
  </div>
</div>