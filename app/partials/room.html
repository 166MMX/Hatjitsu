<div ng-init="configureRoom()">

  <section class="cardPanel" >
    <div ng-show="voter">
      <p>Choose your estimate...</p>
    </div>
    <div ng-hide="voter">
      <p>You have chosen not to vote.</p>
    </div>
    
    <div class="cards{{cardsState}}">
      <div ng-show="cards" ng-repeat="card in cards" ng-click="vote(card)" class="card" ng-class="{'card--selected' : card==myVote}">
        {{card}}
      </div>
      <div ng-hide="cards" class="waiting">
        No cards found
      </div>
    </div>

  </section>

  <section class="votePanel" >
    <!-- <span class="sub">Humans: <span class="label">{{humanCount}}</span></span> -->
    <p class="roomNumber">Room: {{roomId}}</p>

    
    <div class="switch">
      <input type="checkbox" ng-model="voter" ng-disabled="forceRevealDisable" ng-change="toggleVoter()">
      <label class="btn" data-on="You are a voter" data-off="You are not a voter">I am voting</label>
    </div>

    <div ng-switch on="showAdmin" >

      <div ng-switch-when="true">
        <div class="row">
          <button ng-click="resetVote()" class="span2 btn" title="Start a new vote">
            <i class="icon icon-refresh"></i> Reset
          </button>
          <button ng-click="forceReveal()" class="span2 btn" ng-disabled="forceRevealDisable" title="Force a reveal of all cards if there are some stragglers" >
            <i class="icon icon-exclamation-sign"></i> Reveal
          </button>
        </div>

        <p><strong>Card pack</strong>:</p>
        <ul class="radiogroup">
          <li>
            <input id="deckGoat" type="radio" ng-model="cardPack" ng-change="setCardPack(cardPack)" value="goat">
            <label for="deckGoat">Mountain Goat</label>
          </li>
          <li>
            <input id="deckFib" type="radio" ng-model="cardPack" ng-change="setCardPack(cardPack)" value="fib">
            <label for="deckFib">Fibonacci</label>
          </li>
          <li>
            <input id="deckSeq" type="radio" ng-model="cardPack" ng-change="setCardPack(cardPack)" value="seq">
            <label for="deckSeq">Sequential</label>
          </li>
          <li>
            <input id="deckPlay" type="radio" ng-model="cardPack" ng-change="setCardPack(cardPack)" value="play">
            <label for="deckPlay">Playing Cards</label>
          </li>
          <li>
            <input id="deckShirt" type="radio" ng-model="cardPack" ng-change="setCardPack(cardPack)" value="tshirt">
            <label for="deckShirt">T-Shirt</label>
          </li>
        </ul>

      </div>

    </div>

    <div ng-switch on="voted">

      <p ng-switch-when="false">You haven't estimated yet</p>
      <p ng-switch-when="true">Your current estimate: <b>{{myVote}}</b></p>

    </div>

    <div class="cards{{votingState}}">
      <div ng-repeat="vote in votes" ng-click="unvote(vote.sessionId)" class="card card--2-sided" ng-class="{'card--selected' : vote.sessionId==sessionId}">
        <div class="card--side-1">x</div>
        <div class="card--side-2">{{vote.visibleVote}}</div>
      </div>
      <div ng-repeat="i in placeholderVotes" class="card card--placeholder">
        &nbsp;
      </div>
    </div>

    <div class="bg-tree"></div>

  </section>

</div>